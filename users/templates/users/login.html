{% extends 'base.html' %}
{% block content %}
{% load static %}


<form class="box my-5 mx-4" hx-post="{% url 'users:login' %}" hx-target="#login-error" hx-swap="innerHTML" hx-indicator="#indicator">
    <h1 class="h3 mb-3 fw-normal has-text-centered">Login</h1>

    {% csrf_token %}
    <div class="field mt-2">
        <label class="label" for="username">Username</label>
        <div class="control">
            <input name="username" class="input" type="text" id="username" placeholder="e.g. John" required>
        </div>
    </div>
    <div class="field my-2">
        <label class="label" for="password">Password</label>
        <div class="control">
            <input name="password" type="password" class="input" id="password" placeholder="Password" required>
        </div>
    </div>

    <input type="hidden" name="next" value="{{ request.GET.next }}" />

    <p id="login-error" class="has-text-danger"></p>

    <div class="buttons is-centered">
        <button class="mt-2 button is-link has-text-centered" type="submit">
            Login
            <span id="indicator" class="htmx-indicator spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
        </button>
    </div>
    
    <p class="has-text-centered">
        Don't have an account?
        <a class="has-text-link" href="{% url 'users:signup' %}">Sign up</a>
    </p>
</form>

{% endblock content %}